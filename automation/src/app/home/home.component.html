<nav class="navbar navbar-inverse">



    <div class="container-fluid">
  
      <div class="collapse navbar-collapse" id="myNavbar">
        <ul class="nav navbar-nav">
          <li class="active"><a href="#" [routerLink]="['/home']">Home, Welcome {{displayName}}</a></li>
          <!--li><a href="#">Main View</a></li-->

        </ul>
        <ul class="nav navbar-nav navbar-right">
          <li><a href="#" (click)="logout()" ><span class="glyphicon glyphicon-log-in"></span> Logout</a></li>
        </ul>
      </div>
    </div>
  </nav>
  
  <div class="container-fluid text-left">
    <div class="row content">
      <div class="col-sm-2 sidenav">
        <ul class="sidebar-menu">
          <li class="active"></li>
          <li class="treeview">
              <a href="#" [routerLink]="['/new']">
                <i class="fa fa-dashboard"></i> <span>New Request</span>
              <span class="pull-right-container">
                <i class="fa fa-angle-left pull-right"></i>
              </span>
            </a>
            <a href="#" [routerLink]="['/home']">
              <i class="fa fa-dashboard"></i> <span>Search Request</span>
              <span class="pull-right-container">
                <i class="fa fa-angle-left pull-right"></i>
              </span>
            </a>
            <a href="#" [routerLink]="['/listAll']">
              <i class="fa fa-dashboard"></i> <span>List All</span>
              <span class="pull-right-container">
                <i class="fa fa-angle-left pull-right"></i>
              </span>
            </a>
          </li>
        </ul>
      </div>
  
      <div class="col-sm-8 text-left">
  
        <h2>Search Requests</h2>
        <hr>
        <div class="form-group row">
          <div class="col-xs-3">
            <label for="ex1">Request Number:</label>
            <input class="form-control input-sm" id="reqId" type="text" [(ngModel)]="requestNumber">
          </div>
          <div class="col-xs-3">
            <label for="ex1">Issued By:</label>
            <input class="form-control input-sm" id="ownerId" type="text" [(ngModel)]="requestOwner">
          </div>
          <div class="col-xs-3">
            <label for="ex1">Environment:</label>
            <select class="form-control input-sm" id="Environments" type="text" [(ngModel)]="selectedEnv">
              <option value="" selected>Please select</option>
              <option [value]="env.envName" *ngFor="let env of environments"> {{env.envName}}</option>
  
            </select>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-xs-3">
            <label for="ex1">Layer:</label>
            <select class="form-control input-sm" id="Layers" type="text" [(ngModel)]="selectedLayer">
              <option value="" selected>Please select</option>
              <option [value]="Layer.layerName" *ngFor="let Layer of layers"> {{Layer.layerName}}</option>
  
            </select>
          </div>
          <div class="col-xs-3">
            <label for="ex1">Status:</label>
            <select class="form-control input-sm" id="Statuses" type="text" [(ngModel)]="selectedStatus">
              <option value="" selected>Please select</option>
              <option [value]="St.statusName" *ngFor="let St of statuses"> {{St.statusName}}</option>
  
            </select>
          </div>
          <div class="col-xs-3">
            <label for="ex1">Service:</label>
            <select class="form-control input-sm" id="Services" type="text" [(ngModel)]="selectedService">
              <option value="" selected>Please select</option>
              <option [value]="service.serviceName" *ngFor="let service of services"> {{service.serviceName}}</option>
            </select>
          </div>
        </div>
  
        <div class="form-group">
          <button [disabled]="loading" class="btn btn-primary btn-md pull-right"
          
            (click)="SearchRequests()">Search</button>
          <img *ngIf="loading"
            src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
        </div>
       
        <table class="table">
          <thead>
            <tr>
              <th>Request Id</th>
              <th>Defect Id</th>
              <th>Status</th>
              <th>Issued By</th>
              <th>Assign Group</th>
              <th>Request Date</th>
              <th>Deployment Time</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let req of allRequestBody">
              <td>{{req.id}}</td>
              <td>{{req.defectId}}</td>
              <td>{{req.status}}</td>
              <td>{{req.initiatorUser.displayName}}</td>
              <td>{{req.assignOnGroup}}</td>
              <td>{{req.requestDate}}</td>
              <td>{{req.deploymentTime}}</td>
              <td><button *ngIf="req.assignOnUser.groups==group" class="btn btn-success" (click)="editRequest(req)" style="margin-left: 20px;"> Edit</button></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>